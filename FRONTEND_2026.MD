# FRONTEND 2026 IMPLEMENTATION BLUEPRINT

## Industrial Enterprise-Grade Architecture for FASHIONISTAR AI eCommerce

**Version:** 1.0 (Next.js 14+ / React 18+)  
**Date:** January 26, 2026  
**Core Framework:** Next.js App Router  
**Styling:** Tailwind CSS + Shadcn/UI  
**State Management:** Zustand + TanStack Query  
**Strict Alignment:** Matching Django 6.0 Async/Sync Separation

---

## TABLE OF CONTENTS

1. [Executive Overview](#executive-overview)
2. [Architecture: The Feature-Slice Design](#architecture-the-feature-slice-design)
3. [Top 10 Improvements for 2026](#top-10-improvements-for-2026)
4. [Strict Backend Integration (V1 vs V2 APIs)](#strict-backend-integration-v1-vs-v2-apis)
5. [Borrowed "Best Practices" from PayCore](#borrowed-best-practices-from-paycore)
6. [Tech Stack & Dependencies](#tech-stack--dependencies)
7. [Implementation Roadmap](#implementation-roadmap)

---

## EXECUTIVE OVERVIEW

To compete with global giants like Etsy, Jumia, and Amazon, the **FASHIONISTAR Frontend** must evolve from a standard web app into a **High-Performance Distributed UI**.

The current architecture (flat `app` directory) is insufficient for an "Industrial Grade" application. We will adopt a **Feature-Sliced Architecture** (borrowed and improved from PayCore) to ensure scalability, maintainability, and micro-frontend readiness.

**Key Goals:**

- âš¡ **Zero-Interaction Latency**: Optimistic UI updates for Cart/Wishlist.
- ðŸŽ¨ **Premium Aesthetics**: Glassmorphism, Micro-interactions (Framer Motion).
- ðŸ§  **AI-Native Experience**: Real-time streaming for AI measurements.
- ðŸ“± **Mobile-First Luxury**: "App-like" feel on mobile web.

---

## ARCHITECTURE: THE FEATURE-SLICE DESIGN

We are moving away from organizing by "file type" (components vs pages) to organizing by **Feature Domain**.

### Proposed Directory Structure

```text
src/
â”œâ”€â”€ app/                  # Next.js App Router (Routes ONLY)
â”‚   â”œâ”€â”€ (shop)/           # Shop Layout Group
â”‚   â”œâ”€â”€ (auth)/           # Auth Layout Group
â”‚   â””â”€â”€ (dashboard)/      # Vendor/User Dashboard
â”œâ”€â”€ features/             # DOMAIN LOGIC (The Core)
â”‚   â”œâ”€â”€ auth/             # Login, Register, OTP
â”‚   â”œâ”€â”€ cart/             # State, computations
â”‚   â”œâ”€â”€ product/          # Discovery, Reviews, AI Try-On
â”‚   â”œâ”€â”€ checkout/         # Stripe/Paystack, Address
â”‚   â””â”€â”€ measurements/     # AI Measurement flows (Async)
â”œâ”€â”€ components/           # SHARED UI (Atoms/Molecules)
â”‚   â”œâ”€â”€ ui/               # Shadcn (Buttons, Inputs)
â”‚   â”œâ”€â”€ layouts/          # Headers, Footers, Sidebars
â”‚   â””â”€â”€ animations/       # Framer Motion Wrappers
â”œâ”€â”€ lib/                  # INFRASTRUCTURE
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ client_sync.ts   # Axios Instance (V1 - DRF)
â”‚   â”‚   â””â”€â”€ client_async.ts  # Ky/Fetch Instance (V2 - Ninja)
â”‚   â”œâ”€â”€ query-client.ts   # TanStack Query setup
â”‚   â””â”€â”€ utils.ts
â”œâ”€â”€ store/                # GLOBAL STATE
â”‚   â”œâ”€â”€ useCartStore.ts   # Zustand
â”‚   â””â”€â”€ useUIStore.ts     # UI toggles (sidebar, modals)
â””â”€â”€ types/                # STRICT TYPES
    â”œâ”€â”€ backend_v1.d.ts   # DRF Types
    â””â”€â”€ backend_v2.d.ts   # Ninja/Pydantic Types
```

---

## TOP 10 IMPROVEMENTS FOR 2026

### 1. **Hybrid API Clients (Sync vs Async)**

**Existing**: Single Axios instance.
**Improvement**: Two distinct API clients to match the backend.

- **`apiSync` (Axios)**: For V1 DRF endpoints (Auth, Orders). Handles retry logic, token refresh.
- **`apiAsync` (Ky/Fetch)**: For V2 Ninja endpoints. Optimized for streaming, lighter weight, and concurrent requests.

### 2. **React Query (TanStack Query v5)**

**Existing**: likely `useEffect` data fetching.
**Improvement**:

- **Why**: Caching, Deduplication, Background Revalidation.
- **Usage**: `useQuery(['products', id], fetchProduct)` replaces manual loading states.
- **Stale-While-Revalidate**: Instant navigation while data updates in background.

### 3. **Zustand for Client State**

**Existing**: Context API (likely).
**Improvement**:

- **Why**: Redux is too heavy, Context causes re-renders. Zustand is atomic.
- **Usage**: Perfect for **Shopping Cart**, **Auth Tokens**, and **AI Session State**.

### 4. **Micro-Interactions (Framer Motion)**

**Existing**: Basic CSS transitions.
**Improvement**:

- **Why**: "Premium" feel requires movement.
- **Impl**: Page transitions, "Add to Cart" flying animation, Skeleton loaders that shimmer.

### 5. **Shadcn/UI + Tailwind**

**Existing**: Pure Tailwind.
**Improvement**:

- **Why**: Accessibility (Radix primitives) + Design System consistency.
- **Benefit**: Pre-built, enterprise-grade components (Select, Dialog, Toast) that we own and customize.

### 6. **Streaming AI Responses (Pydantic Streams)**

**Existing**: Waiting for full response.
**Improvement**:

- **Why**: AI Measurements take time.
- **Impl**: Use Next.js Streaming + VERCEL AI SDK to stream measurement results token-by-token or step-by-step from the Django Ninja Async endpoint.

### 7. **Optimistic UI Updates**

**Existing**: Loading spinners.
**Improvement**:

- **Why**: eCommerce feels slow with spinners.
- **Impl**: When user clicks "Like", toggle heart INSTANTLY. Revert if API fails. (Powered by React Query `onMutate`).

### 8. **Image Optimization Strategy**

**Existing**: Standard `<img>` or basic `next/image`.
**Improvement**:

- **Impl**: `next/image` with Cloudinary loader. Uses strict sizing to prevent Layout Shift (CLS). WebP/AVIF format enforcement.

### 9. **Strict TypeScript (Zod Validation)**

**Existing**: Loose types.
**Improvement**:

- **Impl**: Share Zod schemas between Frontend and Backend (if possible) or strictly defined interfaces for every API response. No `any`.

### 10. **Performance Monitoring (Vercel Analytics)**

**Existing**: None.
**Improvement**:

- **Impl**: Real-time Web Vitals (LCP, FID, CLS) tracking to ensure we beat Amazon on speed.

---

## STRICT BACKEND INTEGRATION (V1 vs V2 APIs)

Match the Django `api/v1` and `api/v2` separation on the client side.

### The `lib/api` Module

```typescript
// lib/api/sync.client.ts
import axios from "axios";

// For DRF (Complex Logic, Auth)
export const apiV1 = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_URL + "/api/v1",
  timeout: 10000,
});

// lib/api/async.client.ts
// For Ninja (High Perf, AI, Streaming)
export const fetchV2 = async <T>(endpoint: string) => {
  const res = await fetch(
    `${process.env.NEXT_PUBLIC_API_URL}/api/v2${endpoint}`,
    {
      cache: "no-store", // Always fresh for AI
    },
  );
  if (!res.ok) throw new Error("Async API Error");
  return res.json() as Promise<T>;
};
```

---

## BORROWED "BEST PRACTICES" FROM PAYCORE

We analyzed `paycore-frontend` and adapted these 5 key architectures:

1.  **Feature-Based Folders** (`src/features`):
    - _PayCore_: Groups logic by domain (Auth, Wallet).
    - _Adoption_: We will group by `Product`, `Cart`, `Measurement`. Keeps related code together.
2.  **Service Layer Pattern** (`src/services`):
    - _PayCore_: Decouples UI from API calls.
    - _Adoption_: We will not call `axios` directly in components. use `services/productService.ts`.
3.  **Custom Hooks Library** (`src/hooks`):
    - _PayCore_: `useAuth`, `useTransaction`.
    - _Adoption_: We need `useAIProcessing`, `useCartActions` to keep components clean.
4.  **Layout/Theme Configuration**:
    - _PayCore_: Centralized theme (Chakra).
    - _Adoption_: We will centralize strict Tailwind tokens (colors, spacing) in `tailwind.config.ts` to ensure "Luxury" consistency.
5.  **Route Protection (HOCs)**:
    - _PayCore_: PrivateRoute wrapper.
    - _Adoption_: Next.js Middleware (`middleware.ts`) for robust, server-side route protection (more secure).

---

## TECH STACK & DEPENDENCIES

**Core**:

- `next`: ^14.1.0
- `react`: ^18.2.0
- `typescript`: ^5.0.0

**State & Data**:

- `zustand`: ^4.5.0 (Client state)
- `@tanstack/react-query`: ^5.0.0 (Server state)

**UI & Styling**:

- `tailwindcss`: ^3.3.0
- `clsx` & `tailwind-merge`: For dynamic classes.
- `framer-motion`: ^11.0.0 (Animations)
- `lucide-react`: (Icons)
- `keen-slider`: (Carousels)

**Forms & Validation**:

- `react-hook-form`: ^7.0.0
- `zod`: ^3.0.0 (Schema validation)

---

## IMPLEMENTATION ROADMAP

1.  **Initialization**:
    - [ ] Install `shadcn/ui`, `zustand`, `@tanstack/react-query`.
    - [ ] Restructure `src` folder (create `features` directory).
2.  **Core Services**:
    - [ ] Setup `lib/api/sync.client.ts` and `async.client.ts`.
    - [ ] Create `middleware.ts` for Auth protection.
3.  **Components Migration**:
    - [ ] Refactor `ProductCard` and `Navbar` to use local `features/` structure.
    - [ ] Implement Skeleton loaders for all async components.
4.  **AI Integration**:
    - [ ] Build `features/measurements` using Streaming API V2.
